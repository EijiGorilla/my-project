const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ImageMaterial.glsl-BRIpSMWQ.js","assets/index-DcRZY5kx.js","assets/index-CrqRI8IN.css","assets/colorUtils-D2u0Cz_P.js","assets/rotate-b1Bu2GWE.js","assets/MeshTransform-BBr0sXxQ.js","assets/axisAngleDegrees-BzL-J_KN.js","assets/meshVertexSpaceUtils-Dta9Id-h.js","assets/MeshLocalVertexSpace-CN9tNVoJ.js","assets/angularMeasurementUtils-CGGInT0l.js","assets/OverlayCompositing.glsl-B5Gb4OKm.js","assets/line-YTXKKEII.js","assets/OutputColorHighlightOID.glsl-BLlApcGW.js","assets/Indices-DfQUWp03.js","assets/BufferView-BkGwg0rw.js","assets/renderState-CKc66y4x.js","assets/glsl-B5bJgrnA.js","assets/VertexAttributeLocations-BfZbt_DV.js","assets/VertexElementDescriptor-BLyltQyJ.js","assets/triangulationUtils-oilz_N0z.js","assets/deduplicate-Beepl_rs.js","assets/RibbonLine.glsl-if-wKVEd.js","assets/Octree-DZ_wik88.js","assets/InterleavedLayout-BRE52VHV.js","assets/types-BKo2foNY.js","assets/dehydratedFeatureUtils-1rrRm6hF.js","assets/hydratedFeatures-DnmJXUVN.js","assets/ShaderBuilder-DG0ic514.js","assets/VertexArrayObject-Cc-4KJqa.js","assets/memoryEstimations-BPy2xfR4.js","assets/BufferObject-DHz8-9mg.js","assets/VertexBuffer-DKkzXTmw.js","assets/NestedMap-B93H1Ttm.js","assets/textureUtils-DX5mzpp6.js","assets/HUDMaterial.glsl-Y94sN1l6.js","assets/vec3f32-WCVSSNPR.js","assets/BooleanBindUniform-rV7lhEqP.js","assets/sdfPrimitives-Ygt7JL5o.js","assets/Texture-DXHwgIS0.js","assets/videoUtils-C7eUewkZ.js","assets/requestImageUtils-DxLemFGJ.js","assets/SnappingContext-DPTC4qiI.js","assets/PointSnappingHint-BosYXMxA.js","assets/GraphicManipulator-BknR10QP.js","assets/drapedUtils-DpDmQZWw.js","assets/GraphicState-CJ8LYMbA.js","assets/editPlaneUtils-3j-Ma9Sd.js","assets/createUtils-CYNxVZu1.js","assets/distanceOperator-Bm3mRkBs.js","assets/Point2D-Dc6LC4kG.js","assets/Distance2DCalculator-CXhBP-8I-C1wBIpCf.js","assets/ProjectionTransformation-m7i9M82m.js","assets/Envelope2D-DbkRo3eT.js","assets/Transformation2D-CJm8P2LM.js","assets/SimpleGeometryCursor-B92kdZ15.js","assets/OperatorDefinitions-DP7_WWTp.js","assets/apiConverter-DsH1E48e.js","assets/jsonConverter-B7fmD9TV.js","assets/simplifyOperator-BaBafF90.js","assets/operatorSimplify-D064io8o.js","assets/ReactiveSet-f04rtIi6.js","assets/boundedPlane-BlANjyRg.js","assets/SelectedVertexTooltipInfo-Dbm8JcQH.js","assets/TranslateTooltipInfo-Cp0vbkrB.js","assets/utils-B-zUtWrK.js","assets/cimSymbolUtils-DHFfTQnE.js","assets/ExtentScaleTooltipInfo-tPfQh_2B.js"])))=>i.map(i=>d[i]);
import{_ as C,X as a,o_ as O}from"./index-DcRZY5kx.js";import{s as y,f as P,u as b,d as V,p as w,a as D,i as T,e as x,b as S,c as F,g as A,t as z,h as q,j as I,k as M,l as j,o as B,q as E,r as N,v as W,w as L,x as _,y as G,z as o,A as f,B as d,C as k,D as H,E as Q,F as R,G as X}from"./OutputColorHighlightOID.glsl-BLlApcGW.js";import{h as J,d as K,o as U,r as Y,s as Z}from"./BooleanBindUniform-rV7lhEqP.js";import{Q as c}from"./InterleavedLayout-BRE52VHV.js";import{t as v}from"./glsl-B5bJgrnA.js";import{s as ee}from"./ShaderBuilder-DG0ic514.js";import{T as te,d as se,_ as re}from"./renderState-CKc66y4x.js";class ie extends y{intersect(e,t,r,n,l,p){return J(e,r,n,l,void 0,p)}intersectDraped(e,t,r,n){return K(r[0],r[1],e,n)}}function ae(s){const e=new ee,{vertex:t,fragment:r,attributes:n,varyings:l}=e,{hasVVColor:p,hasVertexColors:h}=s;return P(t,s),e.include(U),e.include(Y,s),e.include(b,s),e.include(V,s),r.include(w,s),e.include(D,s),e.include(T,s),n.add("position","vec3"),p&&n.add("colorFeatureAttribute","float"),h||l.add("vColor","vec4"),l.add("vpos","vec3",{invariant:!0}),t.uniforms.add(new x("uColor",u=>u.color)),t.main.add(v`
      vpos = position;
      forwardNormalizedVertexColor();
      forwardObjectAndLayerIdColor();

      ${h?"vColor *= uColor;":p?"vColor = uColor * interpolateVVColor(colorFeatureAttribute);":"vColor = uColor;"}
      forwardViewPosDepth((view * vec4(vpos, 1.0)).xyz);
      gl_Position = transformPosition(proj, view, vpos);`),r.include(S),r.main.add(v`discardBySlice(vpos);
discardByTerrainDepth();
outputColorHighlightOID(vColor, vpos, vColor.rgb);`),e}const oe=Object.freeze(Object.defineProperty({__proto__:null,build:ae},Symbol.toStringTag,{value:"Module"}));class ne extends A{constructor(e,t){super(e,t,new z(oe,()=>C(()=>import("./ImageMaterial.glsl-BRIpSMWQ.js").then(r=>r.C),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66]))),g(t).locations)}_createPipeline(e,t){const{oitPass:r,output:n,transparent:l,cullFace:p,draped:h,hasOccludees:u,polygonOffset:m}=e,$=r===0;return te({blending:_(n)&&l?W(r):null,culling:re(p),depthTest:h?null:{func:N(r)},depthWrite:E(e),drawBuffers:B(n,L(r,n)),colorWrite:se,stencilWrite:u?j:null,stencilTest:u?t?I:M:null,polygonOffset:$?m?le:null:q(e)})}initializePipeline(e){return this._occludeePipelineState=this._createPipeline(e,!0),this._createPipeline(e,!1)}getPipeline(e){return e?this._occludeePipelineState:super.getPipeline()}}const le={factor:1,units:1};function g(s){const e=c().vec3f("position");return F()&&e.vec4u8("olidColor"),s.hasVVColor?e.f32("colorFeatureAttribute"):e.vec4u8("color"),e.freeze()}class i extends G{constructor(){super(...arguments),this.cullFace=0,this.hasVertexColors=!1,this.transparent=!1,this.discardInvisibleFragments=!1,this.polygonOffset=!1,this.enableOffset=!0,this.writeDepth=!0,this.hasOccludees=!1,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.hasVVColor=!1,this.draped=!1,this.textureCoordinateType=0,this.emissionSource=0,this.occlusionPass=!1,this.olidColorInstanced=!1,this.hasVVInstancing=!1,this.hasVVSize=!1,this.hasVVOpacity=!1,this.snowCover=!1}}a([o({count:3})],i.prototype,"cullFace",void 0),a([o()],i.prototype,"hasVertexColors",void 0),a([o()],i.prototype,"transparent",void 0),a([o()],i.prototype,"discardInvisibleFragments",void 0),a([o()],i.prototype,"polygonOffset",void 0),a([o()],i.prototype,"enableOffset",void 0),a([o()],i.prototype,"writeDepth",void 0),a([o()],i.prototype,"hasOccludees",void 0),a([o()],i.prototype,"terrainDepthTest",void 0),a([o()],i.prototype,"cullAboveTerrain",void 0),a([o()],i.prototype,"hasVVColor",void 0),a([o()],i.prototype,"draped",void 0);class me extends ie{constructor(e){super(e,ce),this._configuration=new i,this.supportsEdges=!0,this.produces=new Map([[2,t=>this._isOpaqueMaterialPass(t)],[3,t=>this._isOpaqueNoSSAODepthPass(t)],[4,t=>f(t)&&this._transparent&&this.parameters.writeDepth],[5,t=>d(t)&&this._transparent&&this.parameters.writeDepth],[8,t=>f(t)&&this._transparent&&!this.parameters.writeDepth],[18,t=>k(t)]])}getConfiguration(e,t){return super.getConfiguration(e,t,this._configuration),this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasVertexColors=this.parameters.hasVertexColors&&!this.parameters.vvColor,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.transparent=this._transparent,this._configuration.discardInvisibleFragments=this._transparent&&!this._isOpaquePass(e)&&this.parameters.discardInvisibleFragments,this._configuration.polygonOffset=this.parameters.polygonOffset,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.hasOccludees=t.hasOccludees,this._configuration.oitPass=t.oitPass,this._configuration.enableOffset=t.camera.relativeElevation<H,this._configuration.terrainDepthTest=t.terrainDepthTest&&_(e),this._configuration.cullAboveTerrain=t.cullAboveTerrain,this._configuration.hasVVColor=!!this.parameters.vvColor,this._configuration.draped=this.parameters.draped,this._configuration}get visible(){return this.parameters.color[3]>=Q}get _transparent(){return this.parameters.color[3]<1||this.parameters.forceTransparentMode}_isOpaquePass(e){return this._isOpaqueMaterialPass(e)||this._isOpaqueNoSSAODepthPass(e)}_isOpaqueMaterialPass(e){return e===9||f(e)&&!this._transparent}_isOpaqueNoSSAODepthPass(e){return d(e)&&this.parameters.writeDepth&&!this._transparent}createGLMaterial(e){return new pe(e)}createBufferWriter(){return new Z(g(this.parameters))}}class pe extends X{beginSlot(e){return this.getTechnique(ne,e)}}class ce extends R{constructor(){super(...arguments),this.color=O,this.forceTransparentMode=!1,this.writeDepth=!0,this.hasVertexColors=!1,this.polygonOffset=!1,this.hasSlicePlane=!1,this.cullFace=0,this.draped=!1,this.discardInvisibleFragments=!1}}const $e=c().vec3f("position").freeze(),Ce=c().vec3f("position").vec2f16("uv0").freeze(),Oe=c().vec3f("position").vec4u8("color").freeze(),ye=c().vec3f("position").vec2f("uv0").freeze(),Pe=c().vec3f("position").vec2f("uv0").vec4u8("olidColor").freeze();export{Pe as c,Ce as f,ie as i,me as m,$e as o,ye as r,ae as u,Oe as v};
