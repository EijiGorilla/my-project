import{r as d}from"./index-Cf-lFAZt.js";const a=16;function c(t,e){return e=Math.floor(e/a)*a,Math.min(Math.round(t/a)*a,e)}function x(t,e){return e=Math.floor(e/a)*a,Math.min(Math.ceil(t/a)*a,e)}function M(t,e){const[r,n]=m(t,e);return t.width===r&&t.height===n?t:u(t,r,n)}function m({width:t,height:e},{maxPreferredTexturePixels:r,maxTextureSize:n}){const i=Math.max(t,e),h=t*e;if(i<=n&&h<=r)return[t,e];const o=Math.min(Math.sqrt(r/h),n/i);return[c(Math.round(t*o),n),c(Math.round(e*o),n)]}function u(t,e,r){if(t instanceof ImageData)return u(f(t),e,r);const n=document.createElement("canvas");return n.width=e,n.height=r,n.getContext("2d").drawImage(t,0,0,n.width,n.height),n}function f(t){const e=document.createElement("canvas");e.width=t.width,e.height=t.height;const r=e.getContext("2d");if(r==null)throw new d("texture:context-failed","Failed to create 2d context from HTMLCanvasElement");return r.putImageData(t,0,0),e}export{c as n,M as o,x as r};
