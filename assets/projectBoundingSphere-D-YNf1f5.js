import{d4 as h,d5 as b,d6 as d,d7 as l,at as $,d8 as j,d9 as M,da as p,db as A}from"./index-unbwGsqd.js";function V(t,c,r,u){if(c==null||u==null)return!1;const s=h(c,u);if(s?.projector==null)return!1;if(s.projector===b)return t!==r&&(r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3]),!0;const{source:e,dest:f,projector:m}=s;if(f.spatialReferenceId===3){const n=d[e.spatialReferenceId][2];if(n==null)return!1;n(l(t),0,I,0),j(I,0,a,0);const o=R(I[1],t[2],t[3],M.radius);return p(r,a,o),!0}if(e.spatialReferenceId!==2&&e.spatialReferenceId!==5||f.spatialReferenceId!==11){m(l(t),0,a,0);const n=e.metersPerUnit??1,o=f.metersPerUnit??1,i=t[3]*n/o;p(r,a,i)}else{const n=d[e.spatialReferenceId][1],o=d[1][11];let i=t[3];n!=null&&o!=null&&(i=R(t[1],t[2],t[3],M.radius)),m(l(t),0,a,0),p(r,a,i)}return!0}function R(t,c,r,u){const s=u+c;if(s<u/2||r>s)return Number.MAX_VALUE;const e=Math.abs(U*t)+Math.asin(r/s);return e>=Math.PI/2?Number.MAX_VALUE:r/Math.cos(e)}const I=$(),a=$(),U=A(1);export{V as l};
