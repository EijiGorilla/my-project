import{C as S,a1 as f,el as M,e3 as c,fI as k,eX as h,fE as A,ej as v,hd as I,he as U,hf as z,hg as $,e1 as E,hh as l,hi as R}from"./index-DcRZY5kx.js";function _(n,y){if(!Array.isArray(n)||n.length<y)return!1;for(const u of n)if(typeof u!="number")return!1;return!0}const V=7645211,G={xmin:-180,ymin:-90,zmin:-450,xmax:180,ymax:90,zmax:8850};new R({heightModel:"gravity-related-height",heightUnit:"meters",vertCRS:"EGM96_Geoid"}),new R({heightModel:"gravity-related-height",heightUnit:"meters",vertCRS:"EGM2008_Geoid"}),new R({heightModel:"ellipsoidal",heightUnit:"meters",vertCRS:"WGS_1984"}),new R({heightModel:"ellipsoidal",heightUnit:"meters",vertCRS:"ETRS_1989"}),new R({heightModel:"gravity-related-height",heightUnit:"us-feet",vertCRS:"NAVD88_height_(ftUS)"}),new R({heightModel:"gravity-related-height",heightUnit:"meters",vertCRS:"DHHN2016_(height) "});function C(n){return!(!(n.extensions?.ESRI_crs?.wkid||n.extensions?.ESRI_crs?.latestWkid||n.extensions?.ESRI_crs?.wkt)||!n.root?.extensions?.ESRI_crs?.boundingVolume?.box&&!n.root?.extensions?.ESRI_crs?.boundingVolume?.sphere)}function W(n,y=!1){let u=new S({wkid:4326,vcsWkid:115700}),o=n.root?.boundingVolume,w=!1,d=n?.root?.transform;if(y&&(n.extensions?.ESRI_crs?.wkid||n.extensions?.ESRI_crs?.latestWkid||n.extensions?.ESRI_crs?.wkt)&&(n.root?.extensions?.ESRI_crs?.boundingVolume?.box||n.root?.extensions?.ESRI_crs?.boundingVolume?.sphere))u=new S(n.extensions?.ESRI_crs),o=n.root?.extensions?.ESRI_crs?.boundingVolume,d=n.root?.transform,w=!0;else if(!o)return new f(-180,-90,180,90,u);if(o.box){const t=o?.box;if(t[3]>V&&t[7]>V&&t[11]>V)return new f({...G,spatialReference:u})}const b=E();if(!w&&o.region&&_(o.region,6)){const t=o.region,a=M(t[0]),i=M(t[1]),r=t[4],s=M(t[2]),e=M(t[3]),m=t[5];return new f({xmin:a,ymin:i,zmin:r,xmax:s,ymax:e,zmax:m,spatialReference:u})}if(o.sphere&&_(o.sphere,4)){const t=o.sphere,a=c(t[0],t[1],t[2]),i=t[3]/Math.sqrt(3),r=E();k(r,a,c(i,i,i));const s=E();if(h(s,a,c(i,i,i)),d&&_(d,16)){const g=d;A(b,r,g),v(r,b),A(b,s,g),v(s,b)}w||(I(r,U,0,r,S.WGS84,0),I(s,U,0,s,S.WGS84,0));const e=E(),m=E();return z(e,r,s),$(m,r,s),new f({xmin:e[0],ymin:e[1],zmin:e[2],xmax:m[0],ymax:m[1],zmax:m[2],spatialReference:u})}if(o.box&&_(o.box,12)){const t=o.box,a=c(t[0],t[1],t[2]),i=c(t[3],t[4],t[5]),r=c(t[6],t[7],t[8]),s=c(t[9],t[10],t[11]),e=[];for(let x=0;x<8;++x)e.push(E());if(h(e[0],a,i),h(e[0],e[0],r),h(e[0],e[0],s),l(e[1],a,i),h(e[1],e[1],r),h(e[1],e[1],s),h(e[2],a,i),l(e[2],e[2],r),h(e[2],e[2],s),l(e[3],a,i),l(e[3],e[3],r),h(e[3],e[3],s),h(e[4],a,i),h(e[4],e[4],r),l(e[4],e[4],s),l(e[5],a,i),h(e[5],e[5],r),l(e[5],e[5],s),h(e[6],a,i),l(e[6],e[6],r),l(e[6],e[6],s),l(e[7],a,i),l(e[7],e[7],r),l(e[7],e[7],s),d&&_(d,16)){const x=d;for(let p=0;p<8;++p)A(e[p],e[p],x)}const m=c(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE),g=c(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE);for(let x=0;x<8;++x)w||I(e[x],U,0,e[x],S.WGS84,0),z(g,g,e[x]),$(m,m,e[x]);return new f({xmin:g[0],ymin:g[1],zmin:g[2],xmax:m[0],ymax:m[1],zmax:m[2],spatialReference:u})}return new f(-180,-90,180,90,u)}export{W as E,C as R};
