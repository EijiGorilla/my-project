import{ak as x,kn as d,jq as y,fg as k,iN as b,km as g,ki as v,kj as _,kl as w,cR as G}from"./index-DWB-5FUE.js";import{J as j}from"./Bufferer-Dw9Qi4T1-DYbebrMz.js";import"./GeometryCleaner-BEJM7I4l-CruUan5q.js";import"./OperatorSimplifyOGC-CbTXCqiQ.js";import"./OperatorGeneralize-BP1HXrn6.js";let D=class{getOperatorType(){return 10111}supportsCurves(){return!0}accelerateGeometry(e,t,s){return!1}canAccelerateGeometry(e){return!1}executeMany(e,t,s,n,m,r,a,u,i,h,l){if(i){const o=new f(e,t,s,n,m,r,a,u,l);return new d().executeMany(o,t,l,2)}return new f(e,t,s,n,m,r,a,u,l)}};class f extends y{constructor(e,t,s,n,m,r,a,u,i){super(),this.m_currentUnionEnvelope2D=new k,this.m_index=-1,this.m_dindex=-1,this.m_progressTracker=i,this.m_bufferer=new j(i),this.m_inputGeoms=e,this.m_spatialReference=t,this.m_distances=s,this.m_maxDeviation=a,this.m_maxVerticesInFullCircle=u,this.m_joins=n,this.m_caps=m,this.m_miterLimit=r}tock(){return!0}getRank(){return 1}next(){{let e;for(;e=this.m_inputGeoms.next();)return b(e),this.m_index=this.m_inputGeoms.getGeometryID(),this.m_dindex+1<this.m_distances.length&&this.m_dindex++,this.buffer(e,this.m_distances[this.m_dindex]);return null}}getGeometryID(){return this.m_index}buffer(e,t){return this.m_bufferer.buffer(e,t,this.m_spatialReference,this.m_joins,this.m_caps,this.m_miterLimit,this.m_maxDeviation,this.m_maxVerticesInFullCircle)}}const I=new D;function C(c,e,t,s,n,m,r,a,u){const i=I.executeMany(new x(c),e,t,s,n,m,r,a,u,0,null);return Array.from(i)}const F={round:0,miter:1,bevel:2},M={round:0,butt:1,square:2};function E(c,e,t,s,n={}){let{miterLimit:m=10,maxDeviation:r=NaN,maxVerticesInFullCircle:a=96,union:u=!1,unit:i}=n;const[h,l]=g(c);if(i){const o=v(c);o&&(e=e.map(p=>_(p,i,o)),r&&(r=_(r,i,o)))}return C(h,l,e,F[t],M[s],m,r,a,u).map(o=>w(o,l)).filter(G)}export{E as executeMany};
